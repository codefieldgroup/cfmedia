{"version":3,"file":"cfmedia.min.js","sources":["cfmedia.min.js"],"names":["angular","module","directive","strTemplate","restrict","replace","transclude","require","scope","model","headTitle","apiUrl","srcUrl","multiple","returnModel","accept","order","filter","template","link","element","openMediaModal","find","modal","selectSave","controller","$scope","$timeout","Upload","Media","isDefined","elementsSelected","params","limit","offset","search","progress","copy","$watch","modelUpload","upload","file","forEach","item","url","fields","evt","progressPercentage","parseInt","loaded","total","success","result","elements","push","error","data","status","console","log","select","index","is","not","inArray","activeClass","value","key","splice","openMediaModalCtrl","getAll","selectSaveCtrl","length","meta","alert","loadMore","newValue","a","b","c","d","e","templateUrl"],"mappings":"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","sourcesContent":["'use strict';\n\nangular.module(\"cf\", [\n  'ngFileUpload'\n])\n\n/**\n * Directive to media upload as WordpressÂ´s media.\n * Example:\n *\n * <div cfmedia\n *   ng-model=\"test\"\n *   multiple=\"true\"\n *   url=\"/public/path/upload/\"\n *   accept=\"image/*,application/pdf\"\n *   api=\"api/media\"\n *   head=\"Upload Image\">\n *     <button type=\"button\" class=\"btn btn-default no-border\">View Media Upload</button>\n * </div>\n *\n * The directive accepts the following attributes:\n *\n * - 'ng-model' : Required.\n * - 'head'     : Optional. Default value is 'Change Image'. String with the title of the modal.\n * - 'api'      : Optional. Default value is 'api/media'. String with the route of api media.\n * - 'url'      : Optional. Default value is '/public/upload/'. String with the url to path of public images.\n * - 'multiple' : Optional. Default value is true. Boolean with the options to multiples images or not.\n * - 'return'   : Optional. Default value is 'object'. String with the format to return result, \"string\" or \"object\".\n *                If \"string\" then only return the meta field of image object.\n *                If \"object\" then return the image object.\n * - 'accept'   : Optional. Default value is 'image/*'. String with function or comma separated wildcard to filter files allowed.\n *                Other options:\n *                  .pdf,.jpg\n *                  image/*,application/pdf\n *                  audio/*\n *                  video/*\n * - 'order'    : Optional. Default value is 'date'. String with the option to order by elements result.\n * - 'filter'   : Optional. Default value is 'meta'. String with field name of object that contain image name, example: dc3443.png\n */\n  .directive('cfmedia', [function () {\n    var strTemplate = \"\";\n    strTemplate += \"<div class=\\\"cfmedia\\\">\";\n    strTemplate += \"  <style>\";\n    strTemplate += \"    .cfmedia .jumbotron {\";\n    strTemplate += \"      border     : 4px dashed #b4b9be;\";\n    strTemplate += \"      text-align : center;\";\n    strTemplate += \"    }\";\n    strTemplate += \"\";\n    strTemplate += \"    .cfmedia .thumbnail {\";\n    strTemplate += \"      padding       : 1px;\";\n    strTemplate += \"      border        : 0px solid #ddd;\";\n    strTemplate += \"      border-radius : 0px;\";\n    strTemplate += \"      max-height    : 190px;\";\n    strTemplate += \"      overflow      : hidden;\";\n    strTemplate += \"    }\";\n    strTemplate += \"\";\n    strTemplate += \"    .cfmedia .thumbnail img {\";\n    strTemplate += \"      height : 112px;\";\n    strTemplate += \"    }\";\n    strTemplate += \"\";\n    strTemplate += \"    .cfmedia .selected img {\";\n    strTemplate += \"      border        : 2px dashed #428BCA;\";\n    strTemplate += \"      border-radius : 0px;\";\n    strTemplate += \"    }\";\n    strTemplate += \"\";\n    strTemplate += \"    .cfmedia .cf-search {\";\n    strTemplate += \"      background-color : #EEEEEE;\";\n    strTemplate += \"      padding          : 3px 5px;\";\n    strTemplate += \"    }\";\n    strTemplate += \"  <\\/style>\";\n    strTemplate += \"  <div ng-transclude ng-click=\\\"openMediaModal(); openMediaModalCtrl()\\\"><\\/div>\";\n    strTemplate += \"\";\n    strTemplate += \"  <!-- Modal -->\";\n    strTemplate += \"  <div class=\\\"cfmedia-modal modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"modalLabel\\\" aria-hidden=\\\"true\\\">\";\n    strTemplate += \"    <div class=\\\"modal-dialog\\\" style=\\\"z-index : 1030; width : 92%;\\\">\";\n    strTemplate += \"      <div class=\\\"modal-content\\\">\";\n    strTemplate += \"        <div class=\\\"modal-header\\\">\";\n    strTemplate += \"          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">&times;<\\/button>\";\n    strTemplate += \"          <h4 class=\\\"modal-title\\\" id=\\\"modalLabel\\\">{{ headTitle }}<\\/h4>\";\n    strTemplate += \"        <\\/div>\";\n    strTemplate += \"        <div class=\\\"modal-body\\\">\";\n    strTemplate += \"          <div class=\\\"row\\\">\";\n    strTemplate += \"            <div class=\\\"col-md-12\\\">\";\n    strTemplate += \"              <div class=\\\"jumbotron\\\" style=\\\"padding: 17px 0; margin-bottom: 0px;\\\"\";\n    strTemplate += \"                   ngf-drop\";\n    strTemplate += \"                   ng-model=\\\"modelUpload\\\"\";\n    strTemplate += \"                   class=\\\"drop-box\\\"\";\n    strTemplate += \"                   ngf-drag-over-class=\\\"dragover\\\"\";\n    strTemplate += \"                   ngf-multiple=\\\"true\\\"\";\n    strTemplate += \"                   ngf-allow-dir=\\\"true\\\"\";\n    strTemplate += \"                   ngf-accept=\\\"accept\\\"\";\n    strTemplate += \"                      >\";\n    strTemplate += \"                <h3 style=\\\"margin-top: -3px;color: #393939;\\\">\";\n    strTemplate += \"                  Drop files anywhere to upload\";\n    strTemplate += \"                <\\/h3>\";\n    strTemplate += \"\";\n    strTemplate += \"                <p class=\\\"lead\\\" style=\\\"color: #393939;\\\">\";\n    strTemplate += \"                  <translate>or<\\/translate>\";\n    strTemplate += \"                <\\/p>\";\n    strTemplate += \"\";\n    strTemplate += \"                <button ngf-select ngf-multiple=\\\"true\\\" ng-model=\\\"modelUpload\\\" type=\\\"button\\\"\";\n    strTemplate += \"                        class=\\\"btn btn-primary btn-lg no-border\\\"\";\n    strTemplate += \"                        style=\\\"font-size: 16px;\\\"\";\n    strTemplate += \"                        ngf-accept=\\\"accept\\\">\";\n    strTemplate += \"                  Select Files\";\n    strTemplate += \"                <\\/button>\";\n    strTemplate += \"              <\\/div>\";\n    strTemplate += \"            <\\/div>\";\n    strTemplate += \"\";\n    strTemplate += \"            <div class=\\\"col-md-12\\\">\";\n    strTemplate += \"              <div class=\\\"col-md-12 cf-search\\\">\";\n    strTemplate += \"                <div class=\\\"input-group input-group-sm col-md-4 pull-right\\\">\";\n    strTemplate += \"                  <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-search\\\"><\\/i><\\/span>\";\n    strTemplate += \"                  <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"search\\\" placeholder=\\\"Search ...\\\">\";\n    strTemplate += \"                <\\/div>\";\n    strTemplate += \"              <\\/div>\";\n    strTemplate += \"\";\n    strTemplate += \"              <div class=\\\"col-md-12\\\" style=\\\"height: 256px; overflow: auto; margin-top: 14px;\\\">\";\n    strTemplate += \"                <div ng-repeat=\\\"element in elements | orderBy:order:true\\\" class=\\\"col-lg-2 thumbnail\\\"\";\n    strTemplate += \"                     ng-class=\\\"{'selected': element.activeClass}\\\"\";\n    strTemplate += \"                     ng-click=\\\"select(element, $index)\\\">\";\n    strTemplate += \"                  <img ng-src=\\\"{{ srcUrl + element[filter] }}\\\" class=\\\"img-thumbnail\\\" alt=\\\"\\\">\";\n    strTemplate += \"                <\\/div>\";\n    strTemplate += \"              <\\/div>\";\n    strTemplate += \"\";\n    strTemplate += \"              <button type=\\\"button\\\" class=\\\"btn btn-white no-border\\\" ng-click=\\\"loadMore()\\\" style=\\\"width: 100%;\\\">\";\n    strTemplate += \"                <i class=\\\"glyphicon glyphicon-plus\\\"><\\/i>\";\n    strTemplate += \"                Show More\";\n    strTemplate += \"              <\\/button>\";\n    strTemplate += \"            <\\/div>\";\n    strTemplate += \"          <\\/div>\";\n    strTemplate += \"        <\\/div>\";\n    strTemplate += \"        <div class=\\\"modal-footer\\\">\";\n    strTemplate += \"          <button type=\\\"button\\\" class=\\\"btn btn-default no-border\\\" data-dismiss=\\\"modal\\\">\";\n    strTemplate += \"            <translate>Close<\\/translate>\";\n    strTemplate += \"          <\\/button>\";\n    strTemplate += \"          <button type=\\\"button\\\" class=\\\"btn btn-primary no-border\\\" ng-click=\\\"selectSaveCtrl(); selectSave()\\\">\";\n    strTemplate += \"            <translate>Ok<\\/translate>\";\n    strTemplate += \"          <\\/button>\";\n    strTemplate += \"        <\\/div>\";\n    strTemplate += \"      <\\/div>\";\n    strTemplate += \"    <\\/div>\";\n    strTemplate += \"  <\\/div>\";\n    strTemplate += \"<\\/div>\";\n\n    return {\n      restrict  : 'A',\n      replace   : true,\n      transclude: true,\n      require   : '?ngModel',\n      scope     : {\n        model      : '=ngModel',\n        headTitle  : '@?head',\n        apiUrl     : '@?api',\n        srcUrl     : '@?url',\n        multiple   : '=?multiple',\n        returnModel: '@?return',\n        accept     : '@?',\n        order      : '@?',\n        filter     : '@?'\n      },\n      template  : strTemplate,\n\n      link: function (scope, element) {\n        // Open modal.\n        scope.openMediaModal = function () {\n          element.find('.cfmedia-modal').modal();\n        };\n\n        scope.selectSave = function () {\n          element.find('.cfmedia-modal').modal('hide');\n        };\n      },\n\n      controller: ['$scope', '$timeout', 'Upload', 'Media', function ($scope, $timeout, Upload, Media) {\n        $scope.apiUrl = angular.isDefined($scope.apiUrl) ? $scope.apiUrl : 'api/media';\n        $scope.srcUrl = angular.isDefined($scope.srcUrl) ? $scope.srcUrl : '/public/upload/';\n\n        $scope.elementsSelected = [];\n\n        $scope.params = {\n          limit : 10,\n          offset: 0,\n          search: ''\n        };\n\n        if ($scope.apiUrl) {\n          $scope.progress = 0;\n          var originalModel = angular.copy($scope.model);\n\n          $scope.$watch('modelUpload', function () {\n            if ($scope.modelUpload) {\n              $scope.upload($scope.modelUpload);\n            }\n          });\n\n          /**\n           * Function to upload files.\n           *\n           * @param file\n           */\n          $scope.upload = function (file) {\n            angular.forEach(file, function (item) {\n              $scope.progress = '';\n              Upload.upload({\n                url   : $scope.apiUrl,\n                fields: {},\n                file  : item\n              }).progress(function (evt) {\n                var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n                $scope.progress = progressPercentage;\n              }).success(function (result) {\n                $scope.elements.push(result);\n              }).error(function (data, status, headers, config) {\n                console.log('error status: ' + status);\n              })\n            });\n          };\n\n          /**\n           * Function to instantiate and check the elements selected.\n           *\n           * @param element\n           * @param index\n           */\n          $scope.select = function (element, index) {\n            if (is.not.inArray(element, $scope.elementsSelected)) {\n              if ($scope.multiple) {\n                element.activeClass = true;\n                $scope.elementsSelected.push(element);\n              } else {\n                angular.forEach($scope.elements, function (value, key) {\n                  $scope.elements[key].activeClass = false;\n                });\n                element.activeClass = true;\n                $scope.elementsSelected = [];\n                $scope.elementsSelected.push(element);\n              }\n            } else {\n              angular.forEach($scope.elementsSelected, function (value, key) {\n                if (value == element) {\n                  $scope.elements[index].activeClass = false;\n                  $scope.elementsSelected.splice(key, 1);\n                }\n              });\n            }\n          };\n\n          /**\n           * Function to execute when open modal.\n           */\n          $scope.openMediaModalCtrl = function () {\n            $scope.multiple = angular.isDefined($scope.multiple) ? $scope.multiple : true;\n            $scope.headTitle = angular.isDefined($scope.headTitle) ? $scope.headTitle : 'Change Imagen';\n            $scope.returnModel = angular.isDefined($scope.returnModel) ? $scope.returnModel : 'object';\n            $scope.accept = angular.isDefined($scope.accept) ? $scope.accept : 'image/*';\n            $scope.order = angular.isDefined($scope.order) ? $scope.order : 'date';\n            $scope.filter = angular.isDefined($scope.filter) ? $scope.filter : 'meta';\n\n            $scope.params = {\n              limit : 10,\n              offset: 0,\n              search: ''\n            };\n\n            $scope.elementsSelected = [];\n            $scope.elements = [];\n\n            Media.getAll({\n              limit : $scope.params.limit,\n              offset: $scope.params.offset,\n              search: $scope.params.search\n            }, function (result) {\n              $scope.elements = angular.copy(result);\n            });\n          };\n\n          /**\n           * Function to instantiate model with the selected values.\n           */\n          $scope.selectSaveCtrl = function () {\n            if ($scope.elementsSelected.length > 0) {\n              if ($scope.multiple) {\n                if ($scope.returnModel == 'string') {\n                  angular.forEach($scope.elementsSelected, function (value) {\n                    $scope.model.push(value.meta);\n                  });\n                } else if ($scope.returnModel == 'object') {\n                  $scope.model = $scope.elementsSelected;\n                }\n              } else {\n                if ($scope.returnModel == 'string') {\n                  $scope.model = $scope.elementsSelected[0].meta;\n                } else if ($scope.returnModel == 'object') {\n                  $scope.model = $scope.elementsSelected[0];\n                }\n              }\n            } else {\n              alert('Please select one element.');\n            }\n          };\n\n          /**\n           * Function to load more elements from DB.\n           */\n          $scope.loadMore = function () {\n            $scope.params.offset = ($scope.params.offset == 0) ? $scope.params.offset + $scope.params.limit : $scope.params.offset + $scope.params.offset;\n\n            Media.getAll({\n              limit : $scope.params.limit,\n              offset: $scope.params.offset,\n              search: $scope.params.search\n            }, function (result) {\n              if (result.length > 0) {\n                angular.forEach(result, function (value) {\n                  $scope.elements.push(value);\n                });\n              } else {\n                alert('No more elements in DB.');\n              }\n            });\n          };\n\n          $scope.$watch('search', function (newValue) {\n            $scope.params.search = newValue;\n            $scope.params.offset = 0;\n\n            Media.getAll({\n              limit : $scope.params.limit,\n              offset: $scope.params.offset,\n              search: $scope.params.search\n            }, function (result) {\n              if (result.length > 0) {\n                $scope.elements = angular.copy(result);\n              } else {\n                alert('No more elements in DB.');\n              }\n            });\n          });\n        }\n      }]\n    }\n  }]);\n\"use strict\";angular.module(\"cf\",[\"ngFileUpload\"]).directive(\"cfmedia\",[function(){var a=\"\";return a+='<div class=\"cfmedia\">',a+=\"  <style>\",a+=\"    .cfmedia .jumbotron {\",a+=\"      border     : 4px dashed #b4b9be;\",a+=\"      text-align : center;\",a+=\"    }\",a+=\"\",a+=\"    .cfmedia .thumbnail {\",a+=\"      padding       : 1px;\",a+=\"      border        : 0px solid #ddd;\",a+=\"      border-radius : 0px;\",a+=\"      max-height    : 190px;\",a+=\"      overflow      : hidden;\",a+=\"    }\",a+=\"\",a+=\"    .cfmedia .thumbnail img {\",a+=\"      height : 112px;\",a+=\"    }\",a+=\"\",a+=\"    .cfmedia .selected img {\",a+=\"      border        : 2px dashed #428BCA;\",a+=\"      border-radius : 0px;\",a+=\"    }\",a+=\"\",a+=\"    .cfmedia .cf-search {\",a+=\"      background-color : #EEEEEE;\",a+=\"      padding          : 3px 5px;\",a+=\"    }\",a+=\"  </style>\",a+='  <div ng-transclude ng-click=\"openMediaModal(); openMediaModalCtrl()\"></div>',a+=\"\",a+=\"  <!-- Modal -->\",a+='  <div class=\"cfmedia-modal modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalLabel\" aria-hidden=\"true\">',a+='    <div class=\"modal-dialog\" style=\"z-index : 1030; width : 92%;\">',a+='      <div class=\"modal-content\">',a+='        <div class=\"modal-header\">',a+='          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>',a+='          <h4 class=\"modal-title\" id=\"modalLabel\">{{ headTitle }}</h4>',a+=\"        </div>\",a+='        <div class=\"modal-body\">',a+='          <div class=\"row\">',a+='            <div class=\"col-md-12\">',a+='              <div class=\"jumbotron\" style=\"padding: 17px 0; margin-bottom: 0px;\"',a+=\"                   ngf-drop\",a+='                   ng-model=\"modelUpload\"',a+='                   class=\"drop-box\"',a+='                   ngf-drag-over-class=\"dragover\"',a+='                   ngf-multiple=\"true\"',a+='                   ngf-allow-dir=\"true\"',a+='                   ngf-accept=\"accept\"',a+=\"                      >\",a+='                <h3 style=\"margin-top: -3px;color: #393939;\">',a+=\"                  Drop files anywhere to upload\",a+=\"                </h3>\",a+=\"\",a+='                <p class=\"lead\" style=\"color: #393939;\">',a+=\"                  <translate>or</translate>\",a+=\"                </p>\",a+=\"\",a+='                <button ngf-select ngf-multiple=\"true\" ng-model=\"modelUpload\" type=\"button\"',a+='                        class=\"btn btn-primary btn-lg no-border\"',a+='                        style=\"font-size: 16px;\"',a+='                        ngf-accept=\"accept\">',a+=\"                  Select Files\",a+=\"                </button>\",a+=\"              </div>\",a+=\"            </div>\",a+=\"\",a+='            <div class=\"col-md-12\">',a+='              <div class=\"col-md-12 cf-search\">',a+='                <div class=\"input-group input-group-sm col-md-4 pull-right\">',a+='                  <span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-search\"></i></span>',a+='                  <input type=\"text\" class=\"form-control\" ng-model=\"search\" placeholder=\"Search ...\">',a+=\"                </div>\",a+=\"              </div>\",a+=\"\",a+='              <div class=\"col-md-12\" style=\"height: 256px; overflow: auto; margin-top: 14px;\">',a+='                <div ng-repeat=\"element in elements | orderBy:order:true\" class=\"col-lg-2 thumbnail\"',a+=\"                     ng-class=\\\"{'selected': element.activeClass}\\\"\",a+='                     ng-click=\"select(element, $index)\">',a+='                  <img ng-src=\"{{ srcUrl + element[filter] }}\" class=\"img-thumbnail\" alt=\"\">',a+=\"                </div>\",a+=\"              </div>\",a+=\"\",a+='              <button type=\"button\" class=\"btn btn-white no-border\" ng-click=\"loadMore()\" style=\"width: 100%;\">',a+='                <i class=\"glyphicon glyphicon-plus\"></i>',a+=\"                Show More\",a+=\"              </button>\",a+=\"            </div>\",a+=\"          </div>\",a+=\"        </div>\",a+='        <div class=\"modal-footer\">',a+='          <button type=\"button\" class=\"btn btn-default no-border\" data-dismiss=\"modal\">',a+=\"            <translate>Close</translate>\",a+=\"          </button>\",a+='          <button type=\"button\" class=\"btn btn-primary no-border\" ng-click=\"selectSaveCtrl(); selectSave()\">',a+=\"            <translate>Ok</translate>\",a+=\"          </button>\",a+=\"        </div>\",a+=\"      </div>\",a+=\"    </div>\",a+=\"  </div>\",a+=\"</div>\",{restrict:\"A\",replace:!0,transclude:!0,require:\"?ngModel\",scope:{model:\"=ngModel\",headTitle:\"@?head\",apiUrl:\"@?api\",srcUrl:\"@?url\",multiple:\"=?multiple\",returnModel:\"@?return\",accept:\"@?\",order:\"@?\",filter:\"@?\"},template:a,link:function(a,b){a.openMediaModal=function(){b.find(\".cfmedia-modal\").modal()},a.selectSave=function(){b.find(\".cfmedia-modal\").modal(\"hide\")}},controller:[\"$scope\",\"$timeout\",\"Upload\",\"Media\",function(a,b,c,d){if(a.apiUrl=angular.isDefined(a.apiUrl)?a.apiUrl:\"api/media\",a.srcUrl=angular.isDefined(a.srcUrl)?a.srcUrl:\"/public/upload/\",a.elementsSelected=[],a.params={limit:10,offset:0,search:\"\"},a.apiUrl){a.progress=0;{angular.copy(a.model)}a.$watch(\"modelUpload\",function(){a.modelUpload&&a.upload(a.modelUpload)}),a.upload=function(b){angular.forEach(b,function(b){a.progress=\"\",c.upload({url:a.apiUrl,fields:{},file:b}).progress(function(b){var c=parseInt(100*b.loaded/b.total);a.progress=c}).success(function(b){a.elements.push(b)}).error(function(a,b){console.log(\"error status: \"+b)})})},a.select=function(b,c){is.not.inArray(b,a.elementsSelected)?a.multiple?(b.activeClass=!0,a.elementsSelected.push(b)):(angular.forEach(a.elements,function(b,c){a.elements[c].activeClass=!1}),b.activeClass=!0,a.elementsSelected=[],a.elementsSelected.push(b)):angular.forEach(a.elementsSelected,function(d,e){d==b&&(a.elements[c].activeClass=!1,a.elementsSelected.splice(e,1))})},a.openMediaModalCtrl=function(){a.multiple=angular.isDefined(a.multiple)?a.multiple:!0,a.headTitle=angular.isDefined(a.headTitle)?a.headTitle:\"Change Imagen\",a.returnModel=angular.isDefined(a.returnModel)?a.returnModel:\"object\",a.accept=angular.isDefined(a.accept)?a.accept:\"image/*\",a.order=angular.isDefined(a.order)?a.order:\"date\",a.filter=angular.isDefined(a.filter)?a.filter:\"meta\",a.params={limit:10,offset:0,search:\"\"},a.elementsSelected=[],a.elements=[],d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){a.elements=angular.copy(b)})},a.selectSaveCtrl=function(){a.elementsSelected.length>0?a.multiple?\"string\"==a.returnModel?angular.forEach(a.elementsSelected,function(b){a.model.push(b.meta)}):\"object\"==a.returnModel&&(a.model=a.elementsSelected):\"string\"==a.returnModel?a.model=a.elementsSelected[0].meta:\"object\"==a.returnModel&&(a.model=a.elementsSelected[0]):alert(\"Please select one element.\")},a.loadMore=function(){a.params.offset=0==a.params.offset?a.params.offset+a.params.limit:a.params.offset+a.params.offset,d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){b.length>0?angular.forEach(b,function(b){a.elements.push(b)}):alert(\"No more elements in DB.\")})},a.$watch(\"search\",function(b){a.params.search=b,a.params.offset=0,d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){b.length>0?a.elements=angular.copy(b):alert(\"No more elements in DB.\")})})}}]}}]),angular.module(\"cf\",[\"ngFileUpload\"]).directive(\"cfmedia\",[function(){return{restrict:\"A\",replace:!0,transclude:!0,require:\"?ngModel\",scope:{model:\"=ngModel\",headTitle:\"@?head\",apiUrl:\"@?api\",srcUrl:\"@?url\",multiple:\"=?multiple\",returnModel:\"@?return\",accept:\"@?\",order:\"@?\",filter:\"@?\"},templateUrl:\"cfmedia.html\",link:function(a,b){a.openMediaModal=function(){b.find(\".cfmedia-modal\").modal()},a.selectSave=function(){b.find(\".cfmedia-modal\").modal(\"hide\")}},controller:[\"$scope\",\"$timeout\",\"Upload\",\"Media\",function(a,b,c,d){a.apiUrl=angular.isDefined(a.apiUrl)?a.apiUrl:\"api/media\",a.srcUrl=angular.isDefined(a.srcUrl)?a.srcUrl:\"/public/upload/\",a.elementsSelected=[],a.params={limit:10,offset:0,search:\"\"},a.apiUrl&&(a.progress=0,angular.copy(a.model),a.$watch(\"modelUpload\",function(){a.modelUpload&&a.upload(a.modelUpload)}),a.upload=function(b){angular.forEach(b,function(b){a.progress=\"\",c.upload({url:a.apiUrl,fields:{},file:b}).progress(function(b){var c=parseInt(100*b.loaded/b.total);a.progress=c}).success(function(b){a.elements.push(b)}).error(function(a,b){console.log(\"error status: \"+b)})})},a.select=function(b,c){is.not.inArray(b,a.elementsSelected)?a.multiple?(b.activeClass=!0,a.elementsSelected.push(b)):(angular.forEach(a.elements,function(b,c){a.elements[c].activeClass=!1}),b.activeClass=!0,a.elementsSelected=[],a.elementsSelected.push(b)):angular.forEach(a.elementsSelected,function(d,e){d==b&&(a.elements[c].activeClass=!1,a.elementsSelected.splice(e,1))})},a.openMediaModalCtrl=function(){a.multiple=angular.isDefined(a.multiple)?a.multiple:!0,a.headTitle=angular.isDefined(a.headTitle)?a.headTitle:\"Change Imagen\",a.returnModel=angular.isDefined(a.returnModel)?a.returnModel:\"object\",a.accept=angular.isDefined(a.accept)?a.accept:\"image/*\",a.order=angular.isDefined(a.order)?a.order:\"date\",a.filter=angular.isDefined(a.filter)?a.filter:\"meta\",a.params={limit:10,offset:0,search:\"\"},a.elementsSelected=[],a.elements=[],d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){a.elements=angular.copy(b)})},a.selectSaveCtrl=function(){a.elementsSelected.length>0?a.multiple?\"string\"==a.returnModel?angular.forEach(a.elementsSelected,function(b){a.model.push(b.meta)}):\"object\"==a.returnModel&&(a.model=a.elementsSelected):\"string\"==a.returnModel?a.model=a.elementsSelected[0].meta:\"object\"==a.returnModel&&(a.model=a.elementsSelected[0]):alert(\"Please select one element.\")},a.loadMore=function(){a.params.offset=0==a.params.offset?a.params.offset+a.params.limit:a.params.offset+a.params.offset,d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){b.length>0?angular.forEach(b,function(b){a.elements.push(b)}):alert(\"No more elements in DB.\")})},a.$watch(\"search\",function(b){a.params.search=b,a.params.offset=0,d.getAll({limit:a.params.limit,offset:a.params.offset,search:a.params.search},function(b){b.length>0?a.elements=angular.copy(b):alert(\"No more elements in DB.\")})}))}]}}]);\n//# sourceMappingURL=cfmedia.min.js.map"]}